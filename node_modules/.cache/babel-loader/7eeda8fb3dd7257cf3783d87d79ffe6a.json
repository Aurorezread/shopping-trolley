{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    BooksList: {\n      type: Array,\n      required: true\n    }\n  },\n  computed: {\n    isAll: {\n      get: function get() {\n        var num = 0;\n        this.BooksList.forEach(function (item) {\n          if (item.goods_state) {\n            num++;\n          }\n        });\n        return num === this.BooksList.length;\n      },\n      set: function set(value) {\n        this.BooksList.forEach(function (item) {\n          return item.goods_state = value;\n        });\n      }\n    },\n    closing: function closing() {\n      return this.BooksList.reduce(function (a, b) {\n        return a + (b.goods_state ? b.goods_count : 0);\n      }, 0);\n    },\n    total: function total() {\n      return this.BooksList.reduce(function (a, b) {\n        return a + (b.goods_state ? b.goods_count * b.goods_num : 0);\n      }, 0);\n    }\n  },\n  mounted: function mounted() {\n    console.log(this.BooksList);\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;EACAA;IACAC;MACAC,WADA;MAEAC;IAFA;EADA,CADA;EAOAC;IACAC;MACAC,GADA,iBACA;QACA;QACA;UACA;YACAC;UACA;QACA,CAJA;QAKA;MACA,CATA;MAUAC,GAVA,eAUAC,KAVA,EAUA;QACA;UAAA;QAAA;MACA;IAZA,CADA;IAeAC,OAfA,qBAeA;MACA,6BACA;QAAA;MAAA,CADA,EAEA,CAFA;IAIA,CApBA;IAqBAC,KArBA,mBAqBA;MACA,6BACA;QAAA;MAAA,CADA,EAEA,CAFA;IAIA;EA1BA,CAPA;EAoCAC,OApCA,qBAoCA;IACAC;EACA;AAtCA","names":["props","BooksList","type","required","computed","isAll","get","num","set","value","closing","total","mounted","console"],"sourceRoot":"src/components","sources":["MyFooter.vue"],"sourcesContent":["<template>\n  <!-- 底部 -->\n  <div class=\"my-footer\">\n    <!-- 全选 -->\n    <div class=\"custom-control custom-checkbox\">\n      <input\n        type=\"checkbox\"\n        class=\"custom-control-input\"\n        id=\"footerCheck\"\n        v-model=\"isAll\"\n      />\n      <label class=\"custom-control-label\" for=\"footerCheck\">全选</label>\n    </div>\n    <!-- 合计 -->\n    <div>\n      <span>合计:</span>\n      <span class=\"price\">¥ 0</span>\n    </div>\n    <!-- 按钮 -->\n    <button type=\"button\" class=\"footer-btn btn btn-primary\">\n      结算 ( {{ closing }} )\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    BooksList: {\n      type: Array,\n      required: true,\n    },\n  },\n  computed: {\n    isAll: {\n      get() {\n        let num = 0;\n        this.BooksList.forEach((item) => {\n          if (item.goods_state) {\n            num++;\n          }\n        });\n        return num === this.BooksList.length;\n      },\n      set(value) {\n        this.BooksList.forEach((item) => (item.goods_state = value));\n      },\n    },\n    closing() {\n      return this.BooksList.reduce(\n        (a, b) => a + (b.goods_state ? b.goods_count : 0),\n        0\n      );\n    },\n    total() {\n      return this.BooksList.reduce(\n        (a, b) => a + (b.goods_state ? b.goods_count * b.goods_num : 0),\n        0\n      );\n    },\n  },\n\n  mounted() {\n    console.log(this.BooksList);\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.my-footer {\n  position: fixed;\n  z-index: 2;\n  bottom: 0;\n  width: 100%;\n  height: 50px;\n  border-top: 1px solid #ccc;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 10px;\n  background: #fff;\n\n  .price {\n    color: red;\n    font-weight: bold;\n    font-size: 15px;\n  }\n  .footer-btn {\n    min-width: 80px;\n    height: 30px;\n    line-height: 30px;\n    border-radius: 25px;\n    padding: 0;\n  }\n}\n</style>"]},"metadata":{},"sourceType":"module"}